<p id="points">Points: <span id="pointsValue"><%= points %></span></p>
<button id="clickMeButton">Click Me!</button>

<script defer>
    let userPoints = parseInt(document.getElementById('pointsValue').textContent);

    // Get purchased items from the server
    const purchasedItems = JSON.stringify(purchasedItems);
    console.log(purchasedItems)

    // Event listener for the button
    document.getElementById('clickMeButton').addEventListener('click', async () => {
        let clickValue = 1;  // Default value for each click

        // Check if "Double Click Power" is purchased
        if (purchasedItems.includes('double-click-power')) {
            clickValue = 2;  // Double the points per click
        }

        userPoints += clickValue;  // Add points based on click value
        console.log(userPoints);
        document.getElementById('pointsValue').textContent = userPoints;  // Update DOM

        // Update points in the database
        await fetch('/update-points', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ points: userPoints })
        });
    });
</script>
